"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from codat_platform.types import BaseModel, UNSET_SENTINEL
from codat_platform.utils import FieldMetadata, PathParamMetadata, RequestMetadata
import pydantic
from pydantic import model_serializer
from typing import List, Optional
from typing_extensions import Annotated, NotRequired, TypedDict


class RefreshProductDataRequestBodyTypedDict(TypedDict):
    r"""Optionally specify one or more data types to refresh for the given custom product. If omitted, the product's scheduled refresh is triggered as usual. When provided, each data type must be valid for the specified product."""

    data_types: NotRequired[List[str]]
    r"""One or more data types to refresh for the product."""


class RefreshProductDataRequestBody(BaseModel):
    r"""Optionally specify one or more data types to refresh for the given custom product. If omitted, the product's scheduled refresh is triggered as usual. When provided, each data type must be valid for the specified product."""

    data_types: Annotated[Optional[List[str]], pydantic.Field(alias="dataTypes")] = None
    r"""One or more data types to refresh for the product."""

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(["dataTypes"])
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m


class RefreshProductDataRequestTypedDict(TypedDict):
    company_id: str
    r"""Unique identifier for a company."""
    product_identifier: str
    r"""Human-readable product identifier for a product."""
    request_body: NotRequired[RefreshProductDataRequestBodyTypedDict]
    r"""Optionally specify one or more data types to refresh for the given custom product. If omitted, the product's scheduled refresh is triggered as usual. When provided, each data type must be valid for the specified product."""


class RefreshProductDataRequest(BaseModel):
    company_id: Annotated[
        str,
        pydantic.Field(alias="companyId"),
        FieldMetadata(path=PathParamMetadata(style="simple", explode=False)),
    ]
    r"""Unique identifier for a company."""

    product_identifier: Annotated[
        str,
        pydantic.Field(alias="productIdentifier"),
        FieldMetadata(path=PathParamMetadata(style="simple", explode=False)),
    ]
    r"""Human-readable product identifier for a product."""

    request_body: Annotated[
        Optional[RefreshProductDataRequestBody],
        FieldMetadata(request=RequestMetadata(media_type="application/json")),
    ] = None
    r"""Optionally specify one or more data types to refresh for the given custom product. If omitted, the product's scheduled refresh is triggered as usual. When provided, each data type must be valid for the specified product."""

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(["RequestBody"])
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m
